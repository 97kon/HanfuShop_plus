<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title,links,styles)">

    <title th:replace="${title}">云裳·汉服商城</title>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, follow" />
    <!-- CSS
	============================================ -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/static/assets/css/vendor/bootstrap.min.css">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="/static/assets/css/vendor/font.awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="/static/assets/css/vendor/ionicons.min.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="/static/assets/css/plugins/slick.min.css">
    <!-- Animation -->
    <link rel="stylesheet" href="/static/assets/css/plugins/animate.min.css">
    <!-- jQuery Ui -->
    <link rel="stylesheet" href="/static/assets/css/plugins/jquery-ui.min.css">
    <!-- Nice Select -->
    <link rel="stylesheet" href="/static/assets/css/plugins/nice-select.min.css">
    <!-- Magnific Popup -->
    <link rel="stylesheet" href="/static/assets/css/plugins/magnific-popup.css">

    <link rel="stylesheet" href="/static/assets/css/style.css">

    <!-- jQuery JS -->
    <script type="text/javascript" src="/static/common/plugs/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="/static/common/js/public.js" charset="utf-8"></script>
    <script type="text/javascript" src="/static/common/js/admin.js" charset="utf-8"></script>
    <script src="/static/common/plugs/vue/vue.js" type="text/javascript"></script>

    <script src="/static/assets/js/vendor/jquery-3.5.1.min.js"></script>
    <!-- jQuery Migrate JS -->
    <script src="/static/assets/js/vendor/jQuery-migrate-3.3.0.min.js"></script>
    <!-- Modernizer JS -->
    <script src="/static/assets/js/vendor/modernizr-2.8.3.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="/static/assets/js/vendor/bootstrap.bundle.min.js"></script>
    <!-- Slick Slider JS -->
    <script src="/static/assets/js/plugins/slick.min.js"></script>
    <!-- Countdown JS -->
    <script src="/static/assets/js/plugins/jquery.countdown.min.js"></script>
    <!-- Ajax JS -->
    <script src="/static/assets/js/plugins/jquery.ajaxchimp.min.js"></script>
    <!-- Jquery Nice Select JS -->
    <script src="/static/assets/js/plugins/jquery.nice-select.min.js"></script>
    <!-- Jquery Ui JS -->
    <script src="/static/assets/js/plugins/jquery-ui.min.js"></script>
    <!-- jquery magnific popup js -->
    <script src="/static/assets/js/plugins/jquery.magnific-popup.min.js"></script>

    <!-- Main JS -->
    <script src="/static/assets/js/main.js"></script>


    <style>
        [v-cloak] {
            display: none;
        }
        *{
            touch-action: none;
        }
        .mytopul{
            width: 180px;
        }
        .mytopul li:hover{
            background-color: #90d387;
            color: white;
            padding: 5px 0px;
        }
        .mytopul li a:hover{
            color: white;
        }

        .main-nav > ul > li > a {
            display: block;
            padding: 8px 17px;
            font-size: 20px;
            text-transform: capitalize;
            font-family: "Poppins", sans-serif;
            font-weight: 600;
            line-height: 18px;
        }
    </style>
    <!--/* 页面独有的js文件引入 */-->
    <th:block th:replace="${links}"/>
    <!--/* 页面独有的css文件引入 */-->
    <th:block th:replace="${styles}"/>

    <script type="text/javascript">
        layui.config({
            base: '/static/common/js/'
            , version: '101100'
        }).extend({
            admin: '/admin'
        });

        $.fn.parseForm=function(){
            var serializeObj={};
            var array=this.serializeArray();
            var str=this.serialize();
            $(array).each(function(){
                if(serializeObj[this.name]){
                    if($.isArray(serializeObj[this.name])){
                        serializeObj[this.name].push(this.value);
                    }else{
                        serializeObj[this.name]=[serializeObj[this.name],this.value];
                    }
                }else{
                    serializeObj[this.name]=this.value;
                }
            });
            return serializeObj;
        };
    </script>
</head>
<div th:fragment="headmenu">
    <header class="main-header-area">
        <!-- Main Header Area Start -->
        <div class="main-header">
            <div class="container container-default custom-area">
                <div class="row">
                    <div class="col-lg-12 col-custom">
                        <div class="row align-items-center">
                            <div class="col-lg-4 col-xl-4 col-sm-6 col-6 col-custom">
                                <div class=" d-flex align-items-center">
                                    <a href="/home/index">
                                        <img class="img-full" src="/static/common/images/logo.jpg" alt="Header Logo">
                                    </a>
                                </div>
                            </div>
                            <div class="col-lg-5 col-xl-5 position-static d-none d-lg-block col-custom">
                                <nav class="main-nav d-flex justify-content-center">
                                    <ul class="nav">
                                        <li>
                                            <a href="/home/index">
                                                <span class="menu-text"> 首页</span>
                                                <i class="fa "></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/home/goods/homeListPage">
                                                <span class="menu-text">商品分类</span>
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <div class="mega-menu dropdown-hover" style="z-index: 1000">
                                                <div style="z-index: 1000"  class="menu-colum" th:each="item :${session.firstCategoryList}">
                                                    <ul>
                                                        <li>
                                                            <span  style="display:inline;font-size: 1rem">
                                                                <a th:href="@{'/home/goods/homeListPage?categoryId='+${item.id}}">[[${item.name}]]</a>
                                                            </span>
                                                        </li>

                                                    </ul>
                                                </div>

                                            </div>
                                        </li>

                                        <li>
                                            <a href="/home/note/homeListPage?type=1">
                                                <span class="menu-text">热门笔记</span>
                                            </a>
                                        </li>

                                        <li>
                                            <a href="/home/contact">
                                                <span class="menu-text">联系我们</span>
                                            </a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="col-lg-2 col-xl-3 col-sm-6 col-6 col-custom">
                                <div class="header-right-area main-nav">
                                    <ul class="nav">
                                        <li class="login-register-wrap d-none d-xl-flex" th:if="${session.user} == null">
                                            <span><a class="active" href="/home/login">登录</a></span>
                                            <span><a href="/home/register">注册</a></span>
                                        </li>
                                        <li class="sidemenu-wrap d-none d-lg-flex" th:if="${session.user} != null">
                                            <a href="/home/user/detail">[[${'欢迎您：'+session.user.name}]] <i class="fa fa-caret-down"></i> </a>
                                            <ul class="dropdown-sidemenu dropdown-hover-2 dropdown-language mytopul"  >
                                                <li><a href="/home/user/detail">个人中心</a></li>
                                                <li><a href="/home/order/homeListPage">我的订单</a></li>
                                                <li><a href="/home/note/myhomeListPage">我的笔记</a></li>
                                                <li><a href="/home/collect/homelistPage">商品收藏</a></li>
                                                <li><a href="/home/userNote/myhomeListPage?actionType=2">笔记收藏</a></li>
                                                <li><a href="/home/userAddress/detail">收货地址</a></li>
                                                <li><a href="/home/logout">退出登录</a></li>
                                            </ul>
                                        </li>
                                        <li class="minicart-wrap" th:if="${session.user} != null" >
                                            <a href="#" class="minicart-btn toolbar-btn">
                                                <i class="ion-bag"></i>
                                                <span class="cart-item_count">[[${session.cartList.size()}]]</span>
                                            </a>
                                            <div class="cart-item-wrapper dropdown-sidemenu dropdown-hover-2" >
                                                <div style="max-height: 30vh;overflow-y: scroll">
                                                    <div class="single-cart-item" th:each="item:${session.cartList}">
                                                        <div class="cart-img">
                                                            <a th:href="@{${'/home/goods/detail/'+item.goodsId}}"><img th:src="@{${'/file/fileDown?saveName='+item.field1}}" alt=""></a>
                                                        </div>
                                                        <div class="cart-text">
                                                            <h5 class="title"><a th:href="@{${'/home/goods/detail/'+item.goodsId}}">[[${item.goodsName}]]</a></h5>
                                                            <div class="cart-text-btn">
                                                                <div class="cart-qty">
                                                                    <span>[[${item.number}]]×</span>
                                                                    <span class="cart-price">￥[[${item.price}]]</span>
                                                                </div>
                                                                <!--<button type="button"><i class="ion-trash-b"></i></button>-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cart-price-total d-flex justify-content-between">
                                                    <h5>Total :</h5>
                                                    <h5>￥[[${session.cartListTotal}]]</h5>
                                                </div>
                                                <div class="cart-links d-flex justify-content-center">
                                                    <a class="obrien-button white-btn" href="/home/cart/detail">查看购物车</a>
                                                    <a class="obrien-button white-btn" th:href="'/home/order/commitPage?cartIdList=&userId='+${session.user.id}">立即购买</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mobile-menu-btn d-lg-none">
                                            <a class="off-canvas-btn" href="#">
                                                <i class="fa fa-bars"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main Header Area End -->
        <!-- Sticky Header Start Here-->
        <div class="main-header header-sticky">
            <div class="container container-default custom-area">
                <div class="row">
                    <div class="col-lg-12 col-custom">
                        <div class="row align-items-center">
                            <div class="col-lg-4 col-xl-4 col-sm-6 col-6 col-custom">
                                <div class="">
                                    <a href="/home/index">
                                        <img class="img-full" src="/static/common/images/logo.jpg" alt="Header Logo">
                                    </a>
                                </div>
                            </div>
                            <div class="col-lg-5 col-xl-5 position-static d-none d-lg-block col-custom">
                                <nav class="main-nav d-flex justify-content-center">
                                    <ul class="nav">
                                        <li>
                                            <a href="/home/index">
                                                <span class="menu-text"> 首页</span>
                                                <i class="fa "></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/home/goods/homeListPage">
                                                <span class="menu-text">商品分类</span>
                                                <i class="fa fa-angle-down"></i>
                                            </a>
                                            <div class="mega-menu dropdown-hover" style="z-index:1000">
                                                <div style="z-index: 1000" class="menu-colum" th:each="item :${session.firstCategoryList}">
                                                    <ul>
                                                        <li>
                                                            <span style="display:inline;font-size: 1rem">
                                                                <a th:href="@{'/home/goods/homeListPage?categoryId='+${item.id}}">[[${item.name}]]</a>
                                                            </span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </li>

                                        <li>
                                            <a href="/home/note/homeListPage?type=1">
                                                <span class="menu-text">热门笔记</span>
                                            </a>
                                        </li>

                                        <li>
                                            <a href="/home/contact">
                                                <span class="menu-text">联系我们</span>
                                            </a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="col-lg-2 col-xl-3 col-sm-6 col-6 col-custom">
                                <div class="header-right-area main-nav">
                                    <ul class="nav">

                                        <li class="login-register-wrap d-none d-xl-flex" th:if="${session.user} == null" >
                                            <span><a class="active" href="/home/login">登录</a></span>
                                            <span><a href="/home/register">注册</a></span>
                                        </li>
                                        <li class="sidemenu-wrap d-none d-lg-flex" th:if="${session.user} != null">
                                            <a href="/home/user/detail">[[${'欢迎您：'+session.user.name}]] <i class="fa fa-caret-down"></i> </a>
                                            <ul class="dropdown-sidemenu dropdown-hover-2 dropdown-language mytopul">
                                                <li><a href="/home/user/detail">个人中心</a></li>
                                                <li><a href="/home/order/homeListPage">我的订单</a></li>
                                                <li><a href="/home/note/myhomeListPage">我的笔记</a></li>
                                                <li><a href="/home/userNote/myhomeListPage?actionType=2">我的收藏</a></li>
                                                <li><a href="/home/userAddress/detail">收货地址</a></li>
                                                <li><a href="/home/logout">退出登录</a></li>
                                            </ul>
                                        </li>

                                        <li class="minicart-wrap" th:if="${session.user} != null" >
                                            <a href="#" class="minicart-btn toolbar-btn">
                                                <i class="ion-bag"></i>
                                                <span class="cart-item_count">[[${session.cartList.size()}]]</span>
                                            </a>
                                            <div class="cart-item-wrapper dropdown-sidemenu dropdown-hover-2">
                                                <div class="single-cart-item" th:each="item :${session.cartList}">
                                                    <div class="cart-img">
                                                        <a th:href="@{${'/home/goods/detail/'+item.goodsId}}"><img  th:src="@{${'/file/fileDown?saveName='+item.field1}}" alt=""></a>
                                                    </div>
                                                    <div class="cart-text">
                                                        <h5 class="title"><a th:href="@{${'/home/goods/detail/'+item.goodsId}}">[[${item.goodsName}]]</a></h5>
                                                        <div class="cart-text-btn">
                                                            <div class="cart-qty">
                                                                <span>1×</span>
                                                                <span class="cart-price">￥[[${item.price}]]</span>
                                                            </div>
                                                            <!--<button type="button"><i class="ion-trash-b"></i></button>-->
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cart-price-total d-flex justify-content-between">
                                                    <h5>Total :</h5>
                                                    <h5>￥[[${session.cartListTotal}]]</h5>
                                                </div>
                                                <div class="cart-links d-flex justify-content-center">
                                                    <a class="obrien-button white-btn" href="/home/cart/detail">查看购物车</a>
                                                    <a class="obrien-button white-btn" th:href="'/home/order/commitPage?cartIdList=&userId='+${session.user.id}">立即购买</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mobile-menu-btn d-lg-none">
                                            <a class="off-canvas-btn" href="#mobileMenu">
                                                <i class="fa fa-bars"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Sticky Header End Here -->
        <!-- off-canvas menu start -->
        <!-- off-canvas menu end -->
    </header>
</div>
</html>